@using Encyclopedia_Of_Laws.Views.Subject.pager
@model IEnumerable<Encyclopedia_Of_Laws.Models.Subjectsمواد>


<link href="~/css/Subjects.css" rel="stylesheet" />


@{ ViewData["Title"] = "Index";
    int intSno = 0;
    Layout = "~/Views/Shared/_Layout.cshtml";


    SubjectPager pager = new SubjectPager();
    int pagNo = 0;
    if (ViewBag.SubjectPager != null)
    {
        pager = ViewBag.SubjectPager;
        pagNo = pager.SCurrentPage;
    }
    //SPager pager = new SPager();
    //pager = ViewBag.SearchPager;
}

<h1>مواد القانون</h1>


@* Search  دي الي شفاله *@
@*<div class="container btn-group">
        <div class="col-4 p-0 justify-content-end">
     method = get علشان كلمه البحث تظهر في الurl بتاع الموقع
    <form asp-controller="SubjectsController1" asp-action="Index" method="get">

        <span class="btn btn-group">
    <div class="dropdown">
            <button onclick="myFunction()" class="dropbtn">Dropdown</button>
            <div id="myDropdown" class="dropdown-content">
                <input type="text" placeholder="Search.." id="myInput" onkeyup="filterFunction()">
                <a href="#Privacy">Privacy</a>

                <a href="#contact">Contact</a>

            </div>
        </div>*@

<!--<a asp-action="Index">Back to List-</a>-->
@*<select asp-for="MovieGenre" asp-items="Model.م">
        <option value="">All</option>
    </select>*@
<!--<input class="form-control" type="text" name="SearchText" placeholder="Search in law subjects">
    <input class="p-1 ml-2 btn btn-sm btn-info" type="submit" value="Search" />

</span>-->
@*</form>
    </div>*@



<div class="align-content-center">

    @* download law pdf شغال الحمد لله *@
    <div class="text-center">
        <h2>القانون المدني</h2>

        <a href="~/file/civil law.pdf" target="_blank" title="عرض القانون المدني" style="font-size:24px" class="fa"> Display</a>

        <a href="/Subject/DownloadFile/" target="_blank" title="تحميل القانون المدني" style="font-size:24px" class="fa">Download|&#xf019;</a>

    </div>

    @* اخر التحميل *@

</div>




@*//*************************** دي شغاله كامله الحمد لله بالnot found**********************************@

<div class="wrapper">
    <div class="label"><h5 class="text-center">Search in law subjects</h5></div>

    <div>
        @*method = get علشان كلمه البحث تظهر في الurl بتاع الموقع*@
        <form asp-controller="Subject" asp-action="Index" method="get">

            <div class="searchBar border-2 rounded-25">

                <input id="searchQueryInput" type="text" name="SearchText" placeholder="Search in law subjects" value="" />


                <button id="searchQuerySubmit" type="submit" name="searchQuerySubmit">
                    <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                        <path fill="#fff" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                    </svg>
                </button>
            </div>

            <br />
            <div class="text-center">
                @if (Model.Count() == 0)
                {



                    <div class="alert alert-danger alert-dismissible" id="not found">



                        <strong id="not found">NotFound!</strong> search result not found.
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">
                            <button type="button" class="btn-close">
                                <span class="icon-cross"></span>
                                <span class="visually-hidden">Close</span>
                            </button>
                        </a>
                    </div> }
                else
                {
                    <span id="not found" class="hide"></span>}
            </div>
            <br />
            <p class="text-center"> <a asp-action="Index">العودة الي المواد</a></p>


        </form>
    </div>
</div>

@*//********************************* end**************************@

@*<div class="col-4 btn-group">
            <span class="col-7 mt-2 p-0">
                Row Per page
            </span>
            <span class="col-5 p-1">
                <select class="form-control" id="pagerSelector" asp-items="@ViewBag.PageSizes"
                        onchange="ChangePageSize(this, '@pager.SearchText');">
                </select>
            </span>
        </div>

    <partial name="_Pager" model="@pager" />*@




@*<script>
        function ChangePageSize(obj, searchtext) {
            window.location.href = "/@pager.Controller/@pager.Action" + "?pageSize=" + obj.value + "&SearchText=" + searchtext;
        }
    </script>*@




<!DOCTYPE html>
<html>
<head>
    @* icon library *@
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <style>


     
    </style>
    <script>

    </script>
</head>
<body>


    @foreach (var item in Model)
    {
        intSno = intSno + 1;

        <div id="ajax-container" class="span9">
            <div class="topic article-block">

                <div class="editings-con">
                    <span class="new"><a class="a" asp-action="Details" asp-route-id="@item.IdSubjects"> النسخة الحاليه</a></span>
                    @if (item.التعديلالسابقللماده != null)
                    {

                        <a id="not found" class="old" asp-action="TheLasUpdate" asp-route-id="@item.IdSubjects"> التعديلات السابقة للمادة</a>

                    }
                    else
                    {
                        <span id="not found" class="hide"></span>
                    }

                </div>

                <h3>
                    <p class="made-title">

                        <dd class="col-sm-10">

                            <a asp-action="Details" asp-route-id="@item.IdSubjects"> @Html.DisplayFor(model => item.رقمالماده)</a>

                        </dd>

                    <p>
                </h3>


                <p>

                    <dd class="col-sm-10">
                <p>@Html.DisplayFor(model => item.محتوىالماده)</p>
                </dd>



                </p>


                <p></p>

            </div>
        </div>

    }
    <partial name="_SubjectPager" model="@pager" />


</body>

</html>

